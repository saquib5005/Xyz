// ... inside children array
{ path: 'create-policy', loadComponent: () => import('./features/dashboard/create-policy/create-policy.component').then(m => m.CreatePolicyComponent) },
{ path: 'manage-users', loadComponent: () => import('./features/dashboard/manage-users/manage-users.component').then(m => m.ManageUsersComponent) },

---------

else if (role === 'Super-user' || role === 'Superuser') {
  this.menuItems = [
    { label: 'Create Policy', icon: 'pi pi-plus', routerLink: ['/dashboard/create-policy'] },
    { label: 'Activate Registrations', icon: 'pi pi-user-edit', routerLink: ['/dashboard/manage-users'] }
  ];
}

------------

import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';
import { ReactiveFormsModule, FormBuilder, FormGroup, Validators } from '@angular/forms';
import { InputText } from 'primeng/inputtext';
import { Button } from 'primeng/button';
import { Select } from 'primeng/select';

@Component({
  selector: 'app-create-policy',
  standalone: true,
  imports: [CommonModule, ReactiveFormsModule, InputText, Button, Select],
  template: `
    <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); max-width: 800px;">
      <h2 style="margin-top: 0; color: #00915a;">Create New Policy</h2>
      <p style="color: #666; margin-bottom: 2rem;">Define a new insurance product for the system.</p>

      <form [formGroup]="policyForm" (ngSubmit)="onCreate()" class="p-fluid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
        <div class="field">
          <label style="font-weight: 600;">Policy Name *</label>
          <input pInputText formControlName="name" placeholder="e.g. Premium Auto Care" />
        </div>
        <div class="field">
          <label style="font-weight: 600;">Category *</label>
          <p-select formControlName="category" [options]="categories" placeholder="Select Category"></p-select>
        </div>
        <div class="field">
          <label style="font-weight: 600;">Monthly Premium ($) *</label>
          <input pInputText type="number" formControlName="premium" />
        </div>
        <div class="field">
          <label style="font-weight: 600;">Coverage Limit ($) *</label>
          <input pInputText type="number" formControlName="coverage" />
        </div>
        <div style="grid-column: span 2;">
          <p-button label="Publish Policy" type="submit" icon="pi pi-check" [disabled]="policyForm.invalid" styleClass="p-button-success w-full"></p-button>
        </div>
      </form>
    </div>
  `
})
export class CreatePolicyComponent {
  policyForm: FormGroup;
  categories = [
    { label: 'Health', value: 'Health' },
    { label: 'Auto', value: 'Auto' },
    { label: 'Life', value: 'Life' }
  ];

  constructor(private fb: FormBuilder) {
    this.policyForm = this.fb.group({
      name: ['', Validators.required],
      category: ['', Validators.required],
      premium: [null, Validators.required],
      coverage: [null, Validators.required]
    });
  }

  onCreate() {
    console.log('New Policy Data:', this.policyForm.value);
  }
}

---------


import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';
import { TableModule } from 'primeng/table';
import { Button } from 'primeng/button';
import { Tag } from 'primeng/tag';

@Component({
  selector: 'app-manage-users',
  standalone: true,
  imports: [CommonModule, TableModule, Button, Tag],
  template: `
    <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
      <h2 style="margin-top: 0; color: #00915a;">User Registrations</h2>
      <p style="color: #666; margin-bottom: 2rem;">Manage and activate new account requests.</p>

      <p-table [value]="pendingUsers" styleClass="p-datatable-striped">
        <ng-template #header>
          <tr>
            <th>Name</th>
            <th>Email</th>
            <th>Requested Role</th>
            <th>Action</th>
          </tr>
        </ng-template>
        <ng-template #body let-user>
          <tr>
            <td>{{ user.name }}</td>
            <td>{{ user.email }}</td>
            <td><p-tag [value]="user.role" severity="info"></p-tag></td>
            <td>
              <div style="display: flex; gap: 0.5rem;">
                <p-button label="Activate" icon="pi pi-user-plus" severity="success" size="small"></p-button>
                <p-button label="Reject" icon="pi pi-trash" severity="danger" size="small" [outlined]="true"></p-button>
              </div>
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  `
})
export class ManageUsersComponent {
  pendingUsers = [
    { name: 'Sarah Connor', email: 'sarah@test.com', role: 'Approver' },
    { name: 'Kyle Reese', email: 'kyle@test.com', role: 'User' },
    { name: 'Miles Dyson', email: 'miles@tech.com', role: 'Read-Only' }
  ];
}

-----------

import { Component } from '@angular/core';
import { CommonModule } from '@angular/common';
import { ReactiveFormsModule, FormBuilder, FormGroup, Validators } from '@angular/forms';
import { InputText } from 'primeng/inputtext';
import { Button } from 'primeng/button';
import { Select } from 'primeng/select';

@Component({
  selector: 'app-create-policy',
  standalone: true,
  imports: [CommonModule, ReactiveFormsModule, InputText, Button, Select],
  template: `
    <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05); max-width: 800px;">
      <h2 style="margin-top: 0; color: #00915a;">Create New Policy</h2>
      <p style="color: #666; margin-bottom: 2rem;">Define a new insurance product for the system.</p>

      <form [formGroup]="policyForm" (ngSubmit)="onCreate()" class="p-fluid" style="display: grid; grid-template-columns: 1fr 1fr; gap: 1.5rem;">
        
        <div class="field">
          <label style="font-weight: 600; display: block; margin-bottom: 0.5rem;">Policy ID *</label>
          <input pInputText formControlName="policyId" placeholder="e.g. POL-999" />
          <small class="p-error" *ngIf="policyForm.get('policyId')?.invalid && policyForm.get('policyId')?.touched">Required.</small>
        </div>

        <div class="field">
          <label style="font-weight: 600; display: block; margin-bottom: 0.5rem;">Plan Name *</label>
          <input pInputText formControlName="name" placeholder="e.g. Premium Auto Care" />
          <small class="p-error" *ngIf="policyForm.get('name')?.invalid && policyForm.get('name')?.touched">Required.</small>
        </div>

        <div class="field">
          <label style="font-weight: 600; display: block; margin-bottom: 0.5rem;">Plan Type *</label>
          <p-select formControlName="planType" [options]="planTypes" placeholder="Select Type" styleClass="w-full"></p-select>
          <small class="p-error" *ngIf="policyForm.get('planType')?.invalid && policyForm.get('planType')?.touched">Required.</small>
        </div>

        <div class="field">
          <label style="font-weight: 600; display: block; margin-bottom: 0.5rem;">Monthly Premium ($) *</label>
          <input pInputText type="number" formControlName="premium" placeholder="0.00" />
          <small class="p-error" *ngIf="policyForm.get('premium')?.invalid && policyForm.get('premium')?.touched">Required.</small>
        </div>

        <div class="field" style="grid-column: span 1;">
          <label style="font-weight: 600; display: block; margin-bottom: 0.5rem;">Coverage Limit ($) *</label>
          <input pInputText type="number" formControlName="coverage" placeholder="0.00" />
          <small class="p-error" *ngIf="policyForm.get('coverage')?.invalid && policyForm.get('coverage')?.touched">Required.</small>
        </div>

        <div style="grid-column: span 2; margin-top: 1rem;">
          <p-button label="Publish Policy" type="submit" icon="pi pi-check" [disabled]="policyForm.invalid" styleClass="p-button-success w-full"></p-button>
        </div>
      </form>
    </div>
  `
})
export class CreatePolicyComponent {
  policyForm: FormGroup;
  
  planTypes = [
    { label: 'Health', value: 'Health' },
    { label: 'Auto', value: 'Auto' },
    { label: 'Life', value: 'Life' },
    { label: 'Property', value: 'Property' }
  ];

  constructor(private fb: FormBuilder) {
    this.policyForm = this.fb.group({
      policyId: ['', Validators.required],
      name: ['', Validators.required],
      planType: ['', Validators.required],
      premium: [null, [Validators.required, Validators.min(1)]],
      coverage: [null, [Validators.required, Validators.min(1)]]
    });
  }

  onCreate() {
    if (this.policyForm.valid) {
      console.log('New Policy JSON:', this.policyForm.value);
      alert('Policy Data Captured: ' + JSON.stringify(this.policyForm.value));
    }
  }
}
--------

<div class="sidebar-footer">
      <p-button label="Logout" icon="pi pi-sign-out" styleClass="p-button-text p-button-danger w-full logout-btn" (onClick)="logout()"></p-button>
    </div>
=======================

/* ... existing styles ... */

.sidebar-footer {
  padding: 1rem;
  border-top: 1px solid #e0e0e0;
  background-color: #ffffff;
}

/* Force the PrimeNG text button to align left like a menu item */
::ng-deep .logout-btn {
  justify-content: flex-start !important;
  padding: 0.75rem 1rem !important;
  font-weight: 600 !important;
}


-----------


import { Injectable } from '@angular/core';
import { HttpClient } from '@angular/common/http';
import { Observable } from 'rxjs';

@Injectable({
  providedIn: 'root'
})
export class ApiService {

  private baseUrl = 'http://localhost:8080/api';

  constructor(private http: HttpClient) { }

  // 1. Get Pending Users (GET http://localhost:8080/api/auth/pending-users)
  getPendingUsers(): Observable<any> {
    return this.http.get(`${this.baseUrl}/auth/pending-users`);
  }

  // 2. Activate User (POST http://localhost:8080/api/auth/activate/{id})
  activateUser(userId: number | string, remarks: string): Observable<any> {
    const payload = { remarks: remarks };
    // We use responseType: 'text' because your backend returns a plain string message
    return this.http.post(`${this.baseUrl}/auth/activate/${userId}`, payload, { responseType: 'text' });
  }

  // ... keep your other methods (login, signup, submitClaim) here ...
}

-----------

import { Component, OnInit } from '@angular/core';
import { CommonModule } from '@angular/common';
import { TableModule } from 'primeng/table';
import { Button } from 'primeng/button';
import { Tag } from 'primeng/tag';
import { ApiService } from '../../../core/services/api'; 

@Component({
  selector: 'app-manage-users',
  standalone: true,
  imports: [CommonModule, TableModule, Button, Tag],
  template: `
    <div style="background: white; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 4px rgba(0,0,0,0.05);">
      <h2 style="margin-top: 0; color: #00915a;">User Registrations</h2>
      <p style="color: #666; margin-bottom: 2rem;">Approve pending user accounts.</p>

      <p-table [value]="pendingUsers" styleClass="p-datatable-striped" [tableStyle]="{'min-width': '60rem'}">
        <ng-template pTemplate="header">
          <tr>
            <th>ID</th>
            <th>Username</th>
            <th>Name</th>
            <th>Email</th>
            <th>Role</th>
            <th>Status</th>
            <th>Action</th>
          </tr>
        </ng-template>
        <ng-template pTemplate="body" let-user>
          <tr>
            <td>{{ user.id }}</td>
            <td>{{ user.username }}</td>
            <td>{{ user.name || user.fullName }}</td>
            <td>{{ user.email }}</td>
            <td><p-tag [value]="user.role" severity="info"></p-tag></td>
            <td>
              <p-tag 
                [value]="user.active ? 'Active' : 'Pending'" 
                [severity]="user.active ? 'success' : 'warning'">
              </p-tag>
            </td>
            <td>
              <p-button 
                *ngIf="!user.active"
                label="Activate" 
                icon="pi pi-check" 
                severity="success" 
                size="small" 
                (onClick)="onActivate(user.id)">
              </p-button>
              <span *ngIf="user.active" style="color: #00915a; font-weight: bold;">
                <i class="pi pi-check-circle"></i> Active
              </span>
            </td>
          </tr>
        </ng-template>

        <ng-template pTemplate="emptymessage">
          <tr>
            <td colspan="7" style="text-align: center; padding: 2rem;">No pending users found.</td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  `
})
export class ManageUsersComponent implements OnInit {
  pendingUsers: any[] = [];

  constructor(private apiService: ApiService) {}

  ngOnInit() {
    this.loadUsers();
  }

  loadUsers() {
    this.apiService.getPendingUsers().subscribe({
      next: (data: any) => {
        this.pendingUsers = data;
        console.log('Loaded users:', data);
      },
      error: (err: any) => {
        console.error('Error fetching users:', err);
      }
    });
  }

  onActivate(userId: number | string) {
    // We send a default remark as per your Postman body requirement
    const remarks = "Activated by Superuser";
    
    if (confirm('Are you sure you want to activate this user?')) {
      this.apiService.activateUser(userId, remarks).subscribe({
        next: (response: string) => {
          alert(response); // Shows: "User {username} Activated Successfully"
          this.loadUsers(); // Refresh table to see status change
        },
        error: (err: any) => {
          console.error('Activation failed:', err);
          alert('Activation failed. Check console.');
        }
      });
    }
  }
}

--------
